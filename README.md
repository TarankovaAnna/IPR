### Проверка в Jenkins  
https://jenkins.rnd.lanit.ru/job/java/1096/allure/  

### mock-0.0.1-SNAPSHOT.jar  
jar-файл заглушки

### Задание  
Необходимо разработать заглушку на SpringBoot, имя проектной папки Snils_Check, принимающую на вход СНИЛС, проверяющую валидность контрольной суммы, и возвращающее ответ с результатом проверки.
Пример POST запроса в формате JSON по адресу http://localhost:8082/snils: 
{
"snils": "153-217-659 51"
}
Пример успешного ответа (при условии валидности контрольной суммы заглушка возвращает код 200 и тело ответа):
{
"message": "success",
"snils": "153-217-659 51"
}
Необходимо обработать возможные варианты ошибок (венуть код 400, в сообщении ответа указать в поле messege одну из следующих проблем): 
- передали снилс с неправильной контрольной суммой/не правильный формат снилса:
{
"message": "Error: uncorrected snils",
"snils": "153-217-659 53"
}
- передали не корректный json, например не верный параметр "snils222": "153-217-659 51"
{
"message": "Error: uncorrected json",
"request": {
"snils222": "153-217-659 51"
}
}
request значение должно содержать полное тело запроса, с валидным телом Json!

Обязательные условия:
1. Корневая директория исходного кода должна быть "src/main/java/" (так как это папка именно с исходным кодом, то данная часть пути не учитывается в выражениях package)
2. Внутри корневой директории должны быть директория "org/lanit", в которой расположены остальные файлы и пакеты c java-кодом (учитывается в выражениях package)
3. В пакете org.lanit должен быть класс SnilsApplication - точка входа в программу
4. В пакете org.lanit.controllers должен быть класс контроллера JSONController
5. В пакете org.lanit.validate должен быть класс CheckSnils - класс для проверки контрольной суммы
6. В пакете org.lanit.modelsJson должен быть класс моделей RequestJson (DTO)
7. Поля в классах DTO должны иметь аннтоацию @JsonProperty(...)
8. Значение аннотации @JsonProperty должно совпадать с названием поля (примечание: данное требование связано с системой автопроверки, но для корректной работы заглушки это не обязательное условие, главное, чтобы значение аннотации @JsonProperty совпадало с названием соответствующей ноды в json теле запроса)
9. Для полей в классах DTO должны быть геттеры и сеттеры
10. Наличие комментариев к коду
11. Использовать проверку на ошибки ввода/вывода (throws IOException) при парсинге тела запроса.  

### Инструкция для запуска заглушки в контейнере  
Создаем каталог для размещения Dockerfile   
`sudo mkdir -p /opt/docker/app`
  
Создаем Dockerfile  
`sudo touch Dockerfile`    
`sudo vim Docker file`   
  
>FROM adoptopenjdk/openjdk11:latest  
VOLUME /tmp  
ARG JAR_FILE=mock-0.0.1-SNAPSHOT.jar  
ENV JAVA_HOME=/usr/lib/jvm/java-11-openjdk-amd64  
ENV PATH=$PATH:$JAVA_HOME/bin  
COPY ${JAR_FILE} app.jar  
ENTRYPOINT ["java","-jar","app.jar"]  
  
В данном файле
используется образ OpenJDK 11  
создается точка монтирования /tmp в контейнере  
указыватся jar файл с заглушкой  
устанавливается переменная среды JAVA_HOME в контейнере  
обновляется переменная среды PATH  
добавляется путь к исполняемым файлам Java в контейнере  
копируется JAR-файл из хостовой системы в контейнер  
определяется точка входа для контейнера. При запуске контейнера будет выполнена команда java -jar app.jar внутри контейнера  
  
Запускаем сборку  
`sudo docker build -t myorg/myapp`  

Проверяем список доступных образов  
`sudo docker images`  

Создаем файл docker-compose.yml  
`sudo touch docker-compose.yml`  
`sudo vim docker-compose.yml`  

>version: "3"  
services:  
snils_mock:  
image: myorg/myapp:latest  
    container_name: snils_mock  
    ports:  
      - 8082:8082  
    deploy:  
      resources:  
        limits:  
          cpus: "0.5"  
          memory: 512M  

Запускаем контейнер  
`sudo docker compose up -d`  

### Инструкция для выполнения запроса к заглушке  
Пример успешного POST запроса  
http://localhost:8082/snils  
body  
{  
"snils": "153-217-659 51"  
}  

**Код ответа 200**  
**Тело ответа**  
{  
"message": "success",  
"snils": "153-217-659 51"  
}  


Пример запроса с отправкой снилс с некорректной контольной суммой  
http://localhost:8082/snils  
body  
{  
"snils": "153-217-659 53"  
}  

**Код ответа 400**  
**Тело ответа**

{  
"message": "Error: uncorrected snils",  
"snils": "153-217-659 53"  
}  


Пример запроса с некорректным телом запроса  
http://localhost:8082/snils  
body  
{  
"snils222": "153-217-659 53"  
}  

**Код ответа 400**  
**Тело ответа**  
{  
    "message": "Error: uncorrected json",  
    "request": {  
        "snils222": "153-217-659 51"  
    }  
}  
